"{\n\t\"$schema\": \"http://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\n\t\"contentVersion\": \"1.0.0.0\",\n\t\"parameters\": {\n\t\t\"factoryName\": {\n\t\t\t\"type\": \"string\",\n\t\t\t\"metadata\": \"Data Factory Name\",\n\t\t\t\"defaultValue\": \"lijzhaGAFactory\"\n\t\t}\n\t},\n\t\"variables\": {\n\t\t\"factoryId\": \"[concat('Microsoft.DataFactory/factories/', parameters('factoryName'))]\"\n\t},\n\t\"resources\": [\n\t\t{\n\t\t\t\"name\": \"[concat(parameters('factoryName'), '/CopyPipeline')]\",\n\t\t\t\"type\": \"Microsoft.DataFactory/factories/pipelines\",\n\t\t\t\"apiVersion\": \"2018-06-01\",\n\t\t\t\"properties\": {\n\t\t\t\t\"activities\": [\n\t\t\t\t\t{\n\t\t\t\t\t\t\"name\": \"GitHubCopyFromBlobToBlob\",\n\t\t\t\t\t\t\"description\": \"testtestsetes\",\n\t\t\t\t\t\t\"type\": \"Copy\",\n\t\t\t\t\t\t\"policy\": {\n\t\t\t\t\t\t\t\"timeout\": \"7.00:00:00\",\n\t\t\t\t\t\t\t\"retry\": 0,\n\t\t\t\t\t\t\t\"retryIntervalInSeconds\": 30\n\t\t\t\t\t\t},\n\t\t\t\t\t\t\"userProperties\": [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\"name\": \"Source\",\n\t\t\t\t\t\t\t\t\"value\": \"adftutorial/input/test_input.txt\"\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\"name\": \"Destination\",\n\t\t\t\t\t\t\t\t\"value\": \"adftutorial/output/@{CONCAT(pipeline().RunId, '.txt')}\"\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t],\n\t\t\t\t\t\t\"typeProperties\": {\n\t\t\t\t\t\t\t\"source\": {\n\t\t\t\t\t\t\t\t\"type\": \"BlobSource\",\n\t\t\t\t\t\t\t\t\"recursive\": true\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\"sink\": {\n\t\t\t\t\t\t\t\t\"type\": \"BlobSink\"\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\"enableStaging\": false,\n\t\t\t\t\t\t\t\"dataIntegrationUnits\": 0\n\t\t\t\t\t\t},\n\t\t\t\t\t\t\"inputs\": [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\"referenceName\": \"InputDataset\",\n\t\t\t\t\t\t\t\t\"type\": \"DatasetReference\"\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t],\n\t\t\t\t\t\t\"outputs\": [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\"referenceName\": \"OutputDataset\",\n\t\t\t\t\t\t\t\t\"type\": \"DatasetReference\"\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t]\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t},\n\t\t\t\"dependsOn\": [\n\t\t\t\t\"[concat(variables('factoryId'), '/datasets/InputDataset')]\",\n\t\t\t\t\"[concat(variables('factoryId'), '/datasets/OutputDataset')]\"\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"name\": \"[concat(parameters('factoryName'), '/AzureBlob1')]\",\n\t\t\t\"type\": \"Microsoft.DataFactory/factories/datasets\",\n\t\t\t\"apiVersion\": \"2018-06-01\",\n\t\t\t\"properties\": {\n\t\t\t\t\"description\": \"test dataset\",\n\t\t\t\t\"linkedServiceName\": {\n\t\t\t\t\t\"referenceName\": \"AzureStorageLinkedService\",\n\t\t\t\t\t\"type\": \"LinkedServiceReference\"\n\t\t\t\t},\n\t\t\t\t\"type\": \"AzureBlob\",\n\t\t\t\t\"typeProperties\": {\n\t\t\t\t\t\"format\": {\n\t\t\t\t\t\t\"type\": \"TextFormat\",\n\t\t\t\t\t\t\"columnDelimiter\": \",\",\n\t\t\t\t\t\t\"nullValue\": \"\\\\N\",\n\t\t\t\t\t\t\"treatEmptyAsNull\": true,\n\t\t\t\t\t\t\"skipLineCount\": 0,\n\t\t\t\t\t\t\"firstRowAsHeader\": false\n\t\t\t\t\t},\n\t\t\t\t\t\"fileName\": \"test_input.txt\",\n\t\t\t\t\t\"folderPath\": \"adftutorial/input\"\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\t\"name\": \"[concat(parameters('factoryName'), '/AzureBlob2')]\",\n\t\t\t\"type\": \"Microsoft.DataFactory/factories/datasets\",\n\t\t\t\"apiVersion\": \"2018-06-01\",\n\t\t\t\"properties\": {\n\t\t\t\t\"description\": \"test dataset\",\n\t\t\t\t\"linkedServiceName\": {\n\t\t\t\t\t\"referenceName\": \"AzureStorageLinkedService\",\n\t\t\t\t\t\"type\": \"LinkedServiceReference\"\n\t\t\t\t},\n\t\t\t\t\"type\": \"AzureBlob\",\n\t\t\t\t\"typeProperties\": {\n\t\t\t\t\t\"format\": {\n\t\t\t\t\t\t\"type\": \"TextFormat\",\n\t\t\t\t\t\t\"columnDelimiter\": \",\",\n\t\t\t\t\t\t\"nullValue\": \"\\\\N\",\n\t\t\t\t\t\t\"treatEmptyAsNull\": true,\n\t\t\t\t\t\t\"skipLineCount\": 0,\n\t\t\t\t\t\t\"firstRowAsHeader\": false\n\t\t\t\t\t},\n\t\t\t\t\t\"fileName\": \"test_input.txt\",\n\t\t\t\t\t\"folderPath\": \"adftutorial/input\"\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\t\"name\": \"[concat(parameters('factoryName'), '/InputDataset')]\",\n\t\t\t\"type\": \"Microsoft.DataFactory/factories/datasets\",\n\t\t\t\"apiVersion\": \"2018-06-01\",\n\t\t\t\"properties\": {\n\t\t\t\t\"linkedServiceName\": {\n\t\t\t\t\t\"referenceName\": \"AzureStorageLinkedService\",\n\t\t\t\t\t\"type\": \"LinkedServiceReference\"\n\t\t\t\t},\n\t\t\t\t\"type\": \"AzureBlob\",\n\t\t\t\t\"typeProperties\": {\n\t\t\t\t\t\"format\": {\n\t\t\t\t\t\t\"type\": \"TextFormat\",\n\t\t\t\t\t\t\"columnDelimiter\": \",\",\n\t\t\t\t\t\t\"rowDelimiter\": \"\",\n\t\t\t\t\t\t\"nullValue\": \"\\\\N\",\n\t\t\t\t\t\t\"treatEmptyAsNull\": true,\n\t\t\t\t\t\t\"skipLineCount\": 0,\n\t\t\t\t\t\t\"firstRowAsHeader\": false\n\t\t\t\t\t},\n\t\t\t\t\t\"fileName\": \"test_input.txt\",\n\t\t\t\t\t\"folderPath\": \"adftutorial/input\"\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\t\"name\": \"[concat(parameters('factoryName'), '/OutputDataset')]\",\n\t\t\t\"type\": \"Microsoft.DataFactory/factories/datasets\",\n\t\t\t\"apiVersion\": \"2018-06-01\",\n\t\t\t\"properties\": {\n\t\t\t\t\"linkedServiceName\": {\n\t\t\t\t\t\"referenceName\": \"AzureStorageLinkedService\",\n\t\t\t\t\t\"type\": \"LinkedServiceReference\"\n\t\t\t\t},\n\t\t\t\t\"type\": \"AzureBlob\",\n\t\t\t\t\"typeProperties\": {\n\t\t\t\t\t\"format\": {\n\t\t\t\t\t\t\"type\": \"TextFormat\",\n\t\t\t\t\t\t\"columnDelimiter\": \",\",\n\t\t\t\t\t\t\"rowDelimiter\": \"\",\n\t\t\t\t\t\t\"nullValue\": \"\\\\N\",\n\t\t\t\t\t\t\"treatEmptyAsNull\": false,\n\t\t\t\t\t\t\"firstRowAsHeader\": false\n\t\t\t\t\t},\n\t\t\t\t\t\"fileName\": {\n\t\t\t\t\t\t\"value\": \"@CONCAT(pipeline().RunId, '.txt')\",\n\t\t\t\t\t\t\"type\": \"Expression\"\n\t\t\t\t\t},\n\t\t\t\t\t\"folderPath\": \"adftutorial/output\"\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\t\"name\": \"[concat(parameters('factoryName'), '/testDataset')]\",\n\t\t\t\"type\": \"Microsoft.DataFactory/factories/datasets\",\n\t\t\t\"apiVersion\": \"2018-06-01\",\n\t\t\t\"properties\": {\n\t\t\t\t\"description\": \"test dataset\",\n\t\t\t\t\"linkedServiceName\": {\n\t\t\t\t\t\"referenceName\": \"AzureStorageLinkedService\",\n\t\t\t\t\t\"type\": \"LinkedServiceReference\"\n\t\t\t\t},\n\t\t\t\t\"type\": \"AzureBlob\",\n\t\t\t\t\"typeProperties\": {\n\t\t\t\t\t\"format\": {\n\t\t\t\t\t\t\"type\": \"TextFormat\",\n\t\t\t\t\t\t\"columnDelimiter\": \",\",\n\t\t\t\t\t\t\"nullValue\": \"\\\\N\",\n\t\t\t\t\t\t\"treatEmptyAsNull\": true,\n\t\t\t\t\t\t\"skipLineCount\": 0,\n\t\t\t\t\t\t\"firstRowAsHeader\": false\n\t\t\t\t\t},\n\t\t\t\t\t\"fileName\": \"test_input.txt\",\n\t\t\t\t\t\"folderPath\": \"adftutorial/input\"\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t]\n}"